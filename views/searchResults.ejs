<%- include("partials/header"); -%>

<div class="container">
  <h1 class="page-title">Search Results</h1>
  <% if (results.length > 0) { %>
    <% results.forEach(function(post) { %>
      <div class="post-preview">
        <h2><%= post.title %></h2>
        <p>By <%= post.author.username %> on <%= new Date(post.createdAt).toLocaleDateString('en-US', { hour: 'numeric', minute: 'numeric', hour12: true }) %></p>
        <div class="post-excerpt">
          <%- post.content.substring(0, 100) + " ..." %>
          <a href="/posts/<%= post._id %>" class="read-more">Read More</a>
        </div>
      </div>
      <hr>
    <% }) %>
  <% } else { %>
    <p>No results found.</p>
  <% } %>
</div>

<%- include("partials/footer"); -%>
